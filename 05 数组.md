# 05 数组



## 目录：

- 数组的概念和特点

- 数组的声明

- 数组的定义和初始化

- 数组的基本特性

- 数组元素的访问

- 数组的正序遍历和逆序遍历 （数组的遍历方法）

- 数组越界问题

- 二维数组

- 数组的常用操作

- 指针和数组的关系

- 动态数组

- 多维数组的动态分配



# 知识点讲解：

1. **数组的概念和特点**
   - 数组是一种**线性数据结构**，用于存储相同类型的元素，具有**固定大小**，元素在内存中**连续存储**，可以通过索引快速访问。
   - 数组的特点是**元素类型相同**、**内存连续**，在定义时需要指定大小，无法在运行时调整。

2. **数组的声明**
   
   - 声明数组的语法为：`数据类型 数组名[大小];`。
   - 示例：`int arr[5];` 声明了一个包含 5 个整数的数组。
   
3. **数组的定义和初始化**
   - 数组可以在声明时直接赋值进行初始化，例如 `int arr[3] = {1, 2, 3};`。
   - 如果只部分初始化，未指定的元素将自动初始化为 0，例如 `int arr[5] = {1, 2};`。

4. **数组的基本特性**
   - 数组大小固定且不可改变。
   - 支持**快速索引**访问，索引范围从 `0` 到 `size - 1`。
   - 适合存储固定数量的同类型元素。

5. **数组元素的访问**
   - 可以通过数组名和索引直接访问元素，如 `arr[0]` 表示第一个元素。
   - 索引从 `0` 开始，因此第 `n` 个元素的索引为 `n-1`。

6. **数组的正序遍历和逆序遍历（数组的遍历方法）**
   - **正序遍历**：从索引 `0` 到 `size - 1`，依次访问每个元素。
     ```cpp
     for (int i = 0; i < size; ++i) {
         cout << arr[i] << " ";
     }
     ```
   - **逆序遍历**：从索引 `size - 1` 到 `0`，依次访问每个元素。
     ```cpp
     for (int i = size - 1; i >= 0; --i) {
         cout << arr[i] << " ";
     }
     ```

7. **数组越界问题**
   - 数组越界指访问数组有效范围之外的元素（如 `arr[-1]` 或 `arr[size]`），可能导致程序崩溃或意外结果。
   - 在使用数组时要特别小心，确保索引在合法范围 `[0, size-1]` 内。

8. **二维数组**
   - 二维数组是数组的数组，常用于表示矩阵或表格数据，定义语法为 `数据类型 数组名[行数][列数];`。
   - 例如 `int matrix[3][4];` 表示一个 3 行 4 列的二维数组，可以通过 `matrix[i][j]` 访问第 `i` 行第 `j` 列的元素。
   - 二维数组可以按行或按列初始化，例如：
     ```cpp
     int matrix[2][3] = {{1, 2, 3}, {4, 5, 6}};
     ```

9. **数组的常用操作**
   - **求和**：通过遍历数组，将所有元素累加。
   - **查找最大/最小值**：遍历数组，找出最大的或最小的元素。
   - **查找元素**：找到特定元素的位置，返回索引。
   - **排序**：**使用标准库的 `sort` 函数对数组排序（`<algorithm>` 库）。**

10. **指针和数组的关系**
    
    - 数组名相当于数组首元素的指针，`arr` 等价于 `&arr[0]`。
    - 可以通过指针遍历数组：
      ```cpp
      for (int* ptr = arr; ptr < arr + size; ++ptr) {
          cout << *ptr << " ";
      }
      ```
    - 需要注意数组和指针的区别：数组大小固定，指针可以指向不同的位置。
    
11. **动态数组** 🐱
    
    - 动态数组可以在运行时分配大小，使用 `new` 操作符分配内存，例如 `int* arr = new int[size];`。
    - 动态数组使用完毕后需要手动释放内存，防止内存泄漏：`delete[] arr;`。
    
12. **多维数组的动态分配**
    
    - 多维数组可以通过循环分配每一维的空间，创建动态二维数组的方式如下：
      ```cpp
      int** matrix = new int*[rows];
      for (int i = 0; i < rows; ++i) {
          matrix[i] = new int[cols];
      }
      ```
    - 释放多维数组时，需要逐层释放内存：
      ```cpp
      for (int i = 0; i < rows; ++i) {
          delete[] matrix[i];
      }
      delete[] matrix;
      ```

---



#### 数组的最常用场景

- **存储固定数量的数据**：如考试成绩、温度记录等。
- **矩阵和表格表示**：二维数组用于表示矩阵或表格等数据结构。
- **动态分配的数组**：在运行时确定数组大小，通过指针灵活操作数据。