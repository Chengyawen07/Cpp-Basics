# 09 哈希表

### 目录

1. **哈希表的概念和特点**
2. **哈希函数**
3. **冲突解决方法**
   - 链地址法（Separate Chaining）
   - 开放地址法（Open Addressing）
4. **负载因子（Load Factor）**
5. **哈希表的插入操作**
6. **哈希表的查找操作**
7. **哈希表的删除操作**
8. **C++中常用的哈希表实现**



### 哈希表知识点详细讲解

#### 1. 哈希表的概念和特点
   - **解释**：哈希表是一种数据结构，通过键值对（key-value pair）存储数据。每个键通过哈希函数映射到一个存储位置（称为桶），然后在该位置存储相应的值。
   - **特点**：哈希表具有快速查找、插入和删除操作的特点，平均时间复杂度为O(1)。然而，如果出现冲突或负载因子过高，性能会下降。

#### 2. 哈希函数
   - **解释**：哈希函数用于将键映射到哈希表中的位置（索引）。一个好的哈希函数可以均匀分布数据，减少冲突。
   - **用法**：
     - 哈希函数可以是简单的模运算，例如`index = key % table_size`。
     - 在实际应用中，哈希函数可能较为复杂，以确保不同键值尽量避免映射到同一位置。

#### 3. 冲突解决方法
   - **解释**：当多个键通过哈希函数映射到同一个位置时，就会发生冲突。常用的解决方法有链地址法和开放地址法。

   - **链地址法（Separate Chaining）**：
     - **解释**：链地址法在哈希表的每个位置上维护一个链表，冲突的元素将添加到链表中。
     - **用法**：当哈希表的大小有限，且负载因子较高时，链地址法是一种简单且有效的解决方案。
     - **示例**：
       ```cpp
       std::unordered_map<int, std::list<int>> hashTable;
       ```

   - **开放地址法（Open Addressing）**：
     - **解释**：开放地址法在发生冲突时，通过探测空位置并将元素插入到空位置来解决冲突。
     - **常用方法**：
       - 线性探测：每次冲突后按顺序向下一个位置查找空位。
       - 二次探测：冲突后按平方间隔查找空位。
       - 双重哈希：使用第二个哈希函数生成步长。
     - **用法**：开放地址法适用于元素数量不多、负载因子较低的哈希表。

#### 4. 负载因子（Load Factor）
   - **解释**：负载因子是哈希表中元素数量与桶数量的比值，反映哈希表的填充程度。高负载因子可能导致更多冲突，影响性能。
   - **用法**：通常在负载因子超过一定阈值时，哈希表会进行扩容（rehashing），即增加桶的数量并重新分布元素。

#### 5. 哈希表的插入操作
   - **解释**：插入操作通过哈希函数找到插入位置，然后根据冲突解决方法处理冲突。
   - **用法**：
     - 计算键的哈希值，找到桶位置。
     - 如果使用链地址法，将新元素添加到对应链表中。
     - 如果使用开放地址法，找到空位置插入新元素。
   - **示例**：
     ```cpp
     std::unordered_map<int, int> hashTable;
     hashTable[5] = 100; // 插入键为5，值为100的元素
     ```

#### 6. 哈希表的查找操作
   - **解释**：查找操作根据键计算哈希值找到存储位置，然后访问相应位置的值。
   - **用法**：
     - 使用哈希函数计算键的位置。
     - 如果使用链地址法，遍历链表查找目标元素。
     - 如果使用开放地址法，使用探测法查找目标元素。
   - **示例**：
     ```cpp
     if (hashTable.find(5) != hashTable.end()) {
         std::cout << "Found: " << hashTable[5] << std::endl;
     }
     ```

#### 7. 哈希表的删除操作
   - **解释**：删除操作需要找到元素的位置，然后移除该元素。删除后可能需要调整哈希表结构，以防止查找出错。
   - **用法**：
     - 对于链地址法，从链表中移除目标元素。
     - 对于开放地址法，标记删除位置为空，或重新安排其他元素。
   - **示例**：
     ```cpp
     hashTable.erase(5); // 删除键为5的元素
     ```

#### 8. C++中常用的哈希表实现
   - **解释**：在C++标准库中，常用的哈希表实现是`std::unordered_map`，它使用链地址法解决冲突。
   - **用法**：
     - `std::unordered_map`适用于键值对的存储，提供快速的查找、插入和删除操作。
     - `std::unordered_set`则适用于存储唯一键的集合，支持类似的哈希操作。
   - **示例**：
     ```cpp
     std::unordered_map<int, std::string> hashTable;
     hashTable[1] = "Apple";
     hashTable[2] = "Banana";
     ```

